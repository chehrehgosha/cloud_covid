[{"/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/reportWebVitals.js":"1","/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/App.js":"2","/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/index.js":"3","/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/components/HomePage.js":"4","/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/components/Country.js":"5","/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/components/Summary.js":"6","/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/components/PieChartCovid.js":"7","/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/components/BarChartCovid.js":"8","/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/components/LineChartCovid.js":"9","/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/components/CovidCountryTable.js":"10","/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/components/Appbar.js":"11","/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/actions/db.js":"12","/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/components/NewsFeed.js":"13"},{"size":362,"mtime":1610383837883,"results":"14","hashOfConfig":"15"},{"size":2015,"mtime":1611934025392,"results":"16","hashOfConfig":"15"},{"size":844,"mtime":1610394763592,"results":"17","hashOfConfig":"15"},{"size":3255,"mtime":1611946444470,"results":"18","hashOfConfig":"15"},{"size":2405,"mtime":1611946597140,"results":"19","hashOfConfig":"15"},{"size":2693,"mtime":1611579707263,"results":"20","hashOfConfig":"15"},{"size":2385,"mtime":1611579779037,"results":"21","hashOfConfig":"15"},{"size":3184,"mtime":1611774614094,"results":"22","hashOfConfig":"15"},{"size":2139,"mtime":1611775737226,"results":"23","hashOfConfig":"15"},{"size":3671,"mtime":1611579907569,"results":"24","hashOfConfig":"15"},{"size":5333,"mtime":1611947298591,"results":"25","hashOfConfig":"15"},{"size":3179,"mtime":1611945275013,"results":"26","hashOfConfig":"15"},{"size":1595,"mtime":1611942775462,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"1pdal3o",{"filePath":"31","messages":"32","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"38","messages":"39","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"45"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"49"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"35"},"/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/reportWebVitals.js",[],["63","64"],"/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/App.js",["65","66","67"],"/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/index.js",[],["68","69"],"/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/components/HomePage.js",["70","71","72","73","74","75","76","77"],"/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/components/Country.js",["78","79"],"/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/components/Summary.js",[],"/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/components/PieChartCovid.js",["80"],"import { Paper } from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport { RadialChart } from \"react-vis\";\nimport { PieChart, Pie, Cell, Tooltip, Legend } from \"recharts\";\n\nexport default function PieChartCovid({ data }) {\n  const COLORS = [\"#0088FE\", \"#00C49F\", \"#FFBB28\", \"#FF8042\"];\n  const RADIAN = Math.PI / 180;\n  const renderCustomizedLabel = ({\n    cx,\n    cy,\n    midAngle,\n    innerRadius,\n    outerRadius,\n    percent,\n    index,\n  }) => {\n    const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n    const x = cx + radius * Math.cos(-midAngle * RADIAN);\n    const y = cy + radius * Math.sin(-midAngle * RADIAN);\n\n    return (\n      <text\n        x={x}\n        y={y}\n        fill=\"white\"\n        textAnchor={\"end\"}\n        dominantBaseline=\"central\"\n      >\n        {`${(percent * 100).toFixed(0)}%`}\n      </text>\n    );\n  };\n\n  const [processedData, setProcessedData] = useState(null);\n\n  useEffect(() => {\n    if (data) {\n      setProcessedData([\n        {\n          name: \"Active\",\n          value: data[\"TotalConfirmed\"] - data[\"TotalRecovered\"],\n        },\n        {\n          name: \"Recovered\",\n          value: data[\"TotalRecovered\"],\n        },\n        {\n          name: \"Death\",\n          value: data[\"TotalDeaths\"],\n        },\n      ]);\n    }\n  }, [data]);\n  return (\n    <Paper elevation={2}  style={{ margin:'auto',marginTop: \"2%\" , width:'90%'}} >\n      {processedData && (\n        <PieChart width={400} height={400} style={{ margin: \"auto\", marginTop:'30px' }}>\n          <Pie\n            dataKey=\"value\"\n            nameKey=\"name\"\n            legendType=\"circle\"\n            data={processedData}\n            cx={200}\n            cy={200}\n            outerRadius={150}\n            innerRadius={50}\n            fill=\"#8884d8\"\n            label={renderCustomizedLabel}\n            labelLine={false}\n          >\n            {processedData.map((entry, index) => (\n              <Cell fill={COLORS[index % COLORS.length]} />\n            ))}\n          </Pie>\n          <Legend\n            iconSize={10}\n            width={120}\n            height={140}\n            layout=\"vertical\"\n            verticalAlign=\"middle\"\n            wrapperStyle={{\n              top: 0,\n              left: 350,\n              lineHeight: \"24px\",\n            }}\n          />\n          <Tooltip />\n        </PieChart>\n      )}\n    </Paper>\n  );\n}\n",["81","82"],"/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/components/BarChartCovid.js",["83"],"import { Paper } from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  BarChart,\n  Bar,\n  Cell,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n} from \"recharts\";\n\nexport default function BarChartCovid({ data }) {\n  console.log(\"data\", data);\n  const [processedData, setProcessedData] = useState(null);\n  useEffect(() => {\n    if (Object.keys(data).length > 0) {\n      // console.log(data);\n      const keys = Object.keys(data[\"cases\"]).slice(\n        Math.max(Object.keys(data[\"cases\"]).length - 7, 1)\n      );\n      keys.sort((a, b) => {\n        const datea = a.split(\"/\");\n        const dateb = b.split(\"/\");\n        if (datea[2] > dateb[2]) {\n          return 1;\n        } else if (datea[2] < dateb[2]) {\n          return -1;\n        } else {\n          if (datea[0] > dateb[0]) return 1;\n          else if (datea[0] < dateb[0]) return -1;\n          else {\n            if (datea[1] > dateb[1]) return 1;\n            else if (datea[1] < dateb[1]) return -1;\n            else return 1;\n          }\n        }\n      });\n      const cases = Object.values(data[\"cases\"]).slice(\n        Math.max(Object.values(data[\"cases\"]).length - 7, 1)\n      );\n      cases.sort();\n      const deaths = Object.values(data[\"deaths\"]).slice(\n        Math.max(Object.values(data[\"deaths\"]).length - 7, 1)\n      );\n      deaths.sort();\n      const recovered = Object.values(data[\"recovered\"]).slice(\n        Math.max(Object.values(data[\"recovered\"]).length - 7, 1)\n      );\n      recovered.sort();\n      let newData = [];\n      let obj = {};\n      for (let index = 0; index < keys.length; index++) {\n        if (index === 0) {\n          obj = {\n            \"New Confirmed\": cases[index],\n            \"New Deaths\": deaths[index],\n            \"New Recovered\": recovered[index],\n          };\n          // newData.push(obj)\n        } else {\n          obj = {\n            name: keys[index],\n            \"New Confirmed\": Math.max(cases[index] - cases[index - 1], 0),\n            \"New Deaths\": Math.max(deaths[index] - deaths[index - 1], 0),\n            \"New Recovered\": Math.max(recovered[index] - recovered[index - 1], 0),\n          };\n          // console.log(cases[index] , cases[index - 1], index, cases.sort() );\n          newData.push(obj);\n        }\n      }\n      // const newData = data.map(mapper);\n      setProcessedData(newData);\n    }\n  }, [data]);\n  // console.log(processedData);\n  return (\n    <Paper\n      elevation={2}\n      style={{\n        margin: \"auto\",\n        marginTop: \"2%\",\n        width: \"90%\",\n        paddingTop: \"2%\",\n        paddingBottom: \"2%\",\n      }}\n    >\n      <BarChart\n        style={{ margin: \"auto\" }}\n        width={700}\n        height={400}\n        data={processedData}\n        margin={{\n          top: 5,\n          right: 30,\n          left: 20,\n          bottom: 5,\n        }}\n      >\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <XAxis dataKey=\"name\" />\n        <YAxis />\n        <Tooltip />\n        <Legend />\n        <Bar dataKey=\"New Confirmed\" fill=\"#fcba03\" />\n        <Bar dataKey=\"New Deaths\" fill=\"#fc032d\" />\n        <Bar dataKey=\"New Recovered\" fill=\"#13ed07\" />\n      </BarChart>\n    </Paper>\n  );\n}\n",["84","85"],"/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/components/LineChartCovid.js",[],"/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/components/CovidCountryTable.js",[],["86","87"],"/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/components/Appbar.js",["88","89","90"],"/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/actions/db.js",["91","92","93","94","95","96"],"import firebase from \"firebase\";\nimport axios from \"axios\";\nexport const updateDB = (data, date, doc) => {\n  const db = firebase.firestore();\n  db.collection(\"cached\")\n    .doc(doc)\n    .set({\n      content: data,\n      date: date,\n    })\n    .then(() => {\n      console.log(\"DB updated\", doc);\n    })\n    .catch((error) => {\n      console.log(\"error in updating DB: \", error);\n    });\n};\n\nexport const getNews = (country) => {\n  const db = firebase.firestore();\n  let newNews = [];\n  db.collection(\"userNews\")\n    .where(\"country\", \"==\", country)\n    .get()\n    .then(function (querySnapshot) {\n      querySnapshot.forEach(function (doc) {\n        // doc.data() is never undefined for query doc snapshots\n        newNews.push(doc.data());\n      });\n    })\n    .catch(function (error) {\n      console.log(\"Error getting documents: \", error);\n    });\n  return newNews;\n};\n\nexport const cacheHomepage = () => {\n  const db = firebase.firestore();\n  let cached = [{}, {}];\n  try {\n    var globalSummary = db.collection(\"cached\").doc(\"global\" + \"summary\");\n    globalSummary.get().then(async (doc) => {\n      const today = parseInt(new Date().getTime() / 86400000);\n      if (doc.exists) {\n        const date = doc.data().date;\n        if (today > date) {\n          const resSummary = await axios.get(\n            \"https://api.covid19api.com/summary\"\n          );\n          // setCovidSummary(resSummary.data);\n          updateDB(resSummary.data, today, \"global\" + \"summary\");\n          cached[0] = resSummary.data;\n        } else {\n          console.log(\"cached from DB\");\n          // setCovidSummary(doc.data().content);\n          cached[0] = doc.data().content;\n        }\n      } else {\n        const resSummary = await axios.get(\n          \"https://api.covid19api.com/summary\"\n        );\n        // setCovidSummary(resSummary.data);\n        updateDB(resSummary.data, today, \"global\" + \"summary\");\n        cached[0] = resSummary.data;\n      }\n    });\n    var globalThirty = db.collection(\"cached\").doc(\"global\" + \"thirty\");\n    globalThirty.get().then(async (doc) => {\n      const today = parseInt(new Date().getTime() / 86400000);\n      if (doc.exists) {\n        const date = doc.data().date;\n        if (today > date) {\n          const resThirty = await axios.get(\n            \"https://corona.lmao.ninja/v2/historical/all\"\n          );\n          // setLastThirtyDays(resThirty.data);\n          updateDB(resThirty.data, today, \"global\" + \"thirty\");\n          cached[1] = resThirty.data;\n        } else {\n          console.log(\"cached from DB\");\n          // setLastThirtyDays(doc.data().content);\n          cached[1] = doc.data().content;\n        }\n      } else {\n        const resThirty = await axios.get(\n          \"https://corona.lmao.ninja/v2/historical/all\"\n        );\n        // setLastThirtyDays(resThirty.data);\n        updateDB(resThirty.data, today, \"global\" + \"thirty\");\n        cached[1] = resThirty.data;\n      }\n    });\n    if(cached[0] && cached[1]) return cached\n    // const resThirty = await axios.get(\n    //   \"https://corona.lmao.ninja/v2/historical/all\"\n    // );\n    // setLastThirtyDays(resThirty.data);\n  } catch (error) {\n    console.log(error);\n  }\n};\n","/Users/omid_ch/Documents/EIT/Eurecom/University started/Cloud/project/cloud_covid/src/components/NewsFeed.js",["97"],"import {\n  Card,\n  CardActions,\n  CardContent,\n  Divider,\n  Typography,\n} from \"@material-ui/core\";\nimport React, { useState, useEffect } from \"react\";\nimport { getNews } from \"../actions/db\";\n\nexport default function NewsFeed({ country }) {\n  const [countryNews, setCountryNews] = useState([]);\n  useEffect(async () => {\n    let news = getNews(country);\n    console.log(\"news\", news);\n    setCountryNews(news);\n  }, [country]);\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"row\",\n        height: \"200px\",\n        maxWidth: \"100%\",\n        overflow: \"scroll\",\n        margin: \"1% 5%\",\n      }}\n    >\n      {countryNews.length > 0 ? (\n        countryNews.map((el) => (\n          <Card\n            style={{ margin: \"1% \", minWidth: \"200px\", position: \"relative\" }}\n          >\n            <CardContent>\n              <Typography variant=\"body1\">{el.description}</Typography>\n            </CardContent>\n            <Divider />\n            <CardActions style={{ position: \"absolute\", bottom: \"0\" }}>\n              <Typography variant=\"caption\" color=\"textSecondary\">\n                by: {el.user}\n                <br />\n                {el.date}\n              </Typography>\n            </CardActions>\n          </Card>\n        ))\n      ) : (\n        <Card\n          style={{ margin: \"1% \", minWidth: \"200px\", position: \"relative\" }}\n        >\n          <CardContent>\n            <Typography variant=\"body1\">\n              No news for {country}\n            </Typography>\n          </CardContent>\n          <Divider />\n        </Card>\n      )}\n    </div>\n  );\n}\n",{"ruleId":"98","replacedBy":"99"},{"ruleId":"100","replacedBy":"101"},{"ruleId":"102","severity":1,"message":"103","line":1,"column":8,"nodeType":"104","messageId":"105","endLine":1,"endColumn":12},{"ruleId":"106","severity":1,"message":"107","line":52,"column":9,"nodeType":"108","endLine":55,"endColumn":11},{"ruleId":"106","severity":1,"message":"107","line":56,"column":9,"nodeType":"108","endLine":59,"endColumn":11},{"ruleId":"98","replacedBy":"109"},{"ruleId":"100","replacedBy":"110"},{"ruleId":"111","severity":1,"message":"112","line":18,"column":13,"nodeType":"113","endLine":69,"endColumn":4},{"ruleId":"114","severity":1,"message":"115","line":20,"column":63,"nodeType":"116","messageId":"117","endLine":20,"endColumn":64},{"ruleId":"114","severity":1,"message":"115","line":30,"column":54,"nodeType":"116","messageId":"117","endLine":30,"endColumn":55},{"ruleId":"114","severity":1,"message":"115","line":40,"column":52,"nodeType":"116","messageId":"117","endLine":40,"endColumn":53},{"ruleId":"114","severity":1,"message":"115","line":43,"column":62,"nodeType":"116","messageId":"117","endLine":43,"endColumn":63},{"ruleId":"114","severity":1,"message":"115","line":53,"column":53,"nodeType":"116","messageId":"117","endLine":53,"endColumn":54},{"ruleId":"114","severity":1,"message":"115","line":63,"column":51,"nodeType":"116","messageId":"117","endLine":63,"endColumn":52},{"ruleId":"111","severity":1,"message":"118","line":69,"column":6,"nodeType":"119","endLine":69,"endColumn":8,"suggestions":"120"},{"ruleId":"111","severity":1,"message":"112","line":19,"column":13,"nodeType":"113","endLine":48,"endColumn":4},{"ruleId":"111","severity":1,"message":"121","line":48,"column":6,"nodeType":"119","endLine":48,"endColumn":8,"suggestions":"122"},{"ruleId":"102","severity":1,"message":"123","line":3,"column":10,"nodeType":"104","messageId":"105","endLine":3,"endColumn":21},{"ruleId":"98","replacedBy":"124"},{"ruleId":"100","replacedBy":"125"},{"ruleId":"102","severity":1,"message":"126","line":6,"column":3,"nodeType":"104","messageId":"105","endLine":6,"endColumn":7},{"ruleId":"98","replacedBy":"127"},{"ruleId":"100","replacedBy":"128"},{"ruleId":"98","replacedBy":"129"},{"ruleId":"100","replacedBy":"130"},{"ruleId":"102","severity":1,"message":"131","line":7,"column":3,"nodeType":"104","messageId":"105","endLine":7,"endColumn":13},{"ruleId":"111","severity":1,"message":"112","line":45,"column":13,"nodeType":"113","endLine":53,"endColumn":4},{"ruleId":"111","severity":1,"message":"118","line":69,"column":6,"nodeType":"119","endLine":69,"endColumn":12,"suggestions":"132"},{"ruleId":"114","severity":1,"message":"115","line":41,"column":62,"nodeType":"116","messageId":"117","endLine":41,"endColumn":63},{"ruleId":"114","severity":1,"message":"115","line":51,"column":53,"nodeType":"116","messageId":"117","endLine":51,"endColumn":54},{"ruleId":"114","severity":1,"message":"115","line":63,"column":51,"nodeType":"116","messageId":"117","endLine":63,"endColumn":52},{"ruleId":"114","severity":1,"message":"115","line":67,"column":61,"nodeType":"116","messageId":"117","endLine":67,"endColumn":62},{"ruleId":"114","severity":1,"message":"115","line":77,"column":52,"nodeType":"116","messageId":"117","endLine":77,"endColumn":53},{"ruleId":"114","severity":1,"message":"115","line":89,"column":50,"nodeType":"116","messageId":"117","endLine":89,"endColumn":51},{"ruleId":"111","severity":1,"message":"112","line":13,"column":13,"nodeType":"113","endLine":17,"endColumn":4},"no-native-reassign",["133"],"no-negated-in-lhs",["134"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement",["133"],["134"],"react-hooks/exhaustive-deps","Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","ArrowFunctionExpression","no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","React Hook useEffect has a missing dependency: 'db'. Either include it or remove the dependency array.","ArrayExpression",["135"],"React Hook useEffect has missing dependencies: 'latestNewsRef', 'location.slug', 'location.state', and 'location.summary'. Either include them or remove the dependency array. If 'setCovidSummary' needs the current value of 'location.summary', you can also switch to useReducer instead of useState and read 'location.summary' in the reducer.",["136"],"'RadialChart' is defined but never used.",["133"],["134"],"'Cell' is defined but never used.",["133"],["134"],["133"],["134"],"'InputLabel' is defined but never used.",["137"],"no-global-assign","no-unsafe-negation",{"desc":"138","fix":"139"},{"desc":"140","fix":"141"},{"desc":"142","fix":"143"},"Update the dependencies array to be: [db]",{"range":"144","text":"145"},"Update the dependencies array to be: [latestNewsRef, location.slug, location.state, location.summary]",{"range":"146","text":"147"},"Update the dependencies array to be: [db, user]",{"range":"148","text":"149"},[2537,2539],"[db]",[1737,1739],"[latestNewsRef, location.slug, location.state, location.summary]",[1713,1719],"[db, user]"]